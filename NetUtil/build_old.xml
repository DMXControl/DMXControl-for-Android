<?xml version="1.0" ?><!--                            --><!-- ANT BUILD FILE FOR NETUTIL --><!-- requires: Ant 1.6.5+ and Ant-Contrib (http://ant-contrib.sourceforge.net/) --><!--                            -->
<project name="NetUtil" default="main">
    <property name="src.dir" value="src" />
    <property name="build.dir" value="build" />
    <property name="dist.dir" value="dist" />
    <property name="classes.dir" value="${build.dir}/classes" />
    <property name="jar.dir" value="${build.dir}" />
    <property name="resources.dir" value="resources" />
    <property name="main-class" value="de.sciss.net.NetUtil" />
    <property name="doc.dir" value="doc" />
    <property name="version" value="0.38" />
    <property name="debug" value="true" />

    <target name="clean">
        <delete dir="${build.dir}" />
        <delete dir="${dist.dir}" />
        <delete dir="${doc.dir}" />
    </target>
    <target name="compile">
        <mkdir dir="${classes.dir}" />
        <javac debug="${debug}" srcdir="${src.dir}" destdir="${classes.dir}" source="1.4"
            target="1.4" />
    </target>
    <target name="jar" depends="compile">
        <mkdir dir="${jar.dir}" />
        <jar destfile="${jar.dir}/${ant.project.name}.jar" basedir="${classes.dir}">
            <manifest>
                <attribute name="Main-Class" value="${main-class}" />
            </manifest>
        </jar>
        <jar destfile="${jar.dir}/${ant.project.name}.jar" basedir="${resources.dir}"
            update="true" />
    </target>
    <target name="test" depends="jar">
        <java jar="${jar.dir}/${ant.project.name}.jar" fork="true">
            <arg value="--testUDPServer" />
        </java>
    </target>
    <target name="doc">
        <javadoc packagenames="de.sciss.*" sourcepath="${src.dir}" destdir="${doc.dir}/api"
            version="true" author="true" use="true" source="1.4" linksource="false">
            <tag name="synchronization" />
            <tag name="todo" />
            <tag name="warning" />
            <link href="http://java.sun.com/j2se/1.4.2/docs/api/" />
        </javadoc>
    </target>
    <target name="main" depends="clean,jar" />
    <target name="dist" depends="clean,jar">
        <dirname property="parent.dir" file="${basedir}" />
        <basename property="folder.name" file="${basedir}" />
        <mkdir dir="${dist.dir}" />
        <zip destfile="${dist.dir}/${ant.project.name}-${version}.zip" basedir="${parent.dir}"
            includes="${folder.name}/**"
            excludes="${folder.name}/${classes.dir}/**, ${folder.name}/${dist.dir}, **/.DS_Store" />
    </target>
</project>